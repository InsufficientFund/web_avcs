{% load staticfiles %}
<!DOCTYPE html>
<html>
<head>
    <script   src="https://code.jquery.com/jquery-1.12.2.min.js"   integrity="sha256-lZFHibXzMHo3GGeehn1hudTAP3Sc0uKXBXAzHX1sjtk="   crossorigin="anonymous"></script>
    <link rel="stylesheet" type="text/css" href="{% static 'css/bootstrap.min.css' %}">
    <link href="//cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.0.2/css/bootstrap.min.css" rel="stylesheet">

    <script src="//ajax.googleapis.com/ajax/libs/angularjs/1.3.5/angular.min.js"></script>
    <script src="{%static 'pie_chart/dist/pie-chart.min.js'%}"></script>
    <script src="{%static 'pie_chart/bower_components/d3/d3.min.js'%}"></script>
    <!-- <link href="{{ STATIC_URL }}css/bootstrap.min.css" rel="stylesheet"> -->
    <script>
        var app = angular.module("MainApp", ['n3-pie-chart']);
        app.config(function($interpolateProvider){
        $interpolateProvider.startSymbol('{-').endSymbol('-}');
        });
        app.controller('MainController', ['$scope', '$http', '$interval', function($scope,$http,$interval) {
            $scope.title = 'Top Sellers in Books';
            $scope.test_api_call = function(){
                $http({method:'GET', url:'test_api/'})
                .then(function(response){
                    debugger;
                });
                debugger;
            };
            $scope.data = [
              {label: "one", value: 12.2, color: "red"},
              {label: "two", value: 45, color: "#00ff00"},
              {label: "three", value: 10, color: "rgb(0, 0, 255)"}
            ];
            $scope.options = {thickness: 30};
            stop = $interval(function() {
              $scope.test_api_call = function(){
                  $http({method:'GET', url:'test_api/'})
                  .then(function(response){
                    $scope.data = [
                      {label: "one", value: 12.2, color: "red"},
                      {label: "two", value: 45, color: "#00ff00"},
                      {label: "three", value: 10, color: "rgb(0, 0, 255)"}
                    ];
                  });
              };
            }, 100);
            debugger;
        }]);
     </script>

    <title>ABCDEFG</title>
</head>
<body ng-app="MainApp">
<h1>PUT YOUR HAND UP !</h1>
<div class="main" ng-controller="MainController">
    <div class="row">
        <div class="col-md-6">
        <button class="btn-danger">ABCD</button>
    </div>
    <div class="col-md-6 container">
        <pie-chart data="data" options="options"></pie-chart>
        <button class="btn-warning">ABCD</button>
                <h1>this is title : {-title-}</h1>
        <form enctype="multipart/form-data" method="post" action="/main/upload/">
            {% for field in form %}
                <div class="fieldWrapper">
                    {% csrf_token %}
                    {{ field.label_tag }} {{ field }}
                    {% if field.help_text %}
                       <p class="help">{{ field.help_text|safe }}</p>
                    {% endif %}
                </div>
            {% endfor %}
            <input type="submit" class="submit-post">
        </form>
        <button ng-click="test_api_call()">test_api_call</button>

    </div>
    </div>
</div>
</body>
</html>
